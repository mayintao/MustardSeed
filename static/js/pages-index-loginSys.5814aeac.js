(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-loginSys"],{"025c":function(t,n,a){var e=a("c86c");n=e(!1),n.push([t.i,".container[data-v-93a77c8c]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background-image:url(/static/web_main_bg.png) /* 替换为你的背景图片路径 */}.form-container[data-v-93a77c8c]{width:%?600?%;background:#fff;padding:%?30?%;border-radius:%?20?%;box-shadow:0 %?4?% %?20?% rgba(0,0,0,.1)}.input-group[data-v-93a77c8c]{margin-bottom:%?10?%}.input-wrapper[data-v-93a77c8c]{display:flex;align-items:center;background:#f5f5f5;border-radius:%?12?%;padding:%?20?%;margin:%?30?%}.input[data-v-93a77c8c]{flex:1;margin-left:%?10?%;font-size:%?27?%;border:none;background:none}.btn[data-v-93a77c8c]{width:100%;height:auto;font-size:%?28?%;border-radius:%?12?%;margin-top:%?50?%}.login-btn[data-v-93a77c8c]{background:#007aff;color:#fff}.forgot-password-container[data-v-93a77c8c]{width:100%;padding:%?40?%}.forgot-password[data-v-93a77c8c]{display:inline-block; /* 避免占满整行 */margin:%?20?% %?40?%;       /* 上下间距 20rpx，左右为 0 */padding:%?10?% %?20?%;  /* 内边距更舒服 */background:#007aff;color:#fff;border-radius:%?8?%;   /* 圆角，更通用 */font-size:%?24?%;float:right          /* 让按钮居右 */}.register-btn[data-v-93a77c8c]{background:#fff;color:#007aff;border:%?2?% solid #007aff}.radio-group[data-v-93a77c8c]{margin:%?20?%;display:flex;flex-direction:row;gap:%?20?%}.radio-item[data-v-93a77c8c]{display:flex;align-items:center;font-size:%?28?%}.text-tips[data-v-93a77c8c]{margin:%?20?%;text-align:center;font-size:%?26?%;color:#666}.navbar[data-v-93a77c8c]{position:fixed;  /* 固定在最上方 */top:0;left:0;width:100%;      /* 占满宽度 */height:44px;     /* 高度可调整 */background-color:#fff;display:flex;justify-content:center; /* 水平居中 */align-items:center;     /* 垂直居中 */border-bottom:1px solid #eee;z-index:999            /* 保证在最上层 */}\n\n/* 标题样式 */.nav-title[data-v-93a77c8c]{font-size:16px;font-weight:700;white-space:nowrap;       /* 强制一行 */overflow:hidden;          /* 超出隐藏 */text-overflow:ellipsis;   /* 超出加 ... */max-width:90%;text-align:center}\n\n/* 超过 12 个字符时字体缩小 */.nav-title.small[data-v-93a77c8c]{font-size:14px}.uni-input[data-v-93a77c8c]{margin-top:%?30?%;height:auto;padding:%?15?% %?25?%;line-height:%?50?%;font-size:%?28?%;background:#fff;flex:1;background-color:#5b5b5b;color:#f7f7f7;border:%?2?% solid #007aff}",""]),t.exports=n},2299:function(t,n,a){"use strict";a.r(n);var e=a("96cf"),o=a.n(e);for(var i in e)["default"].indexOf(i)<0&&function(t){a.d(n,t,(function(){return e[t]}))}(i);n["default"]=o.a},"2dfe":function(t,n,a){"use strict";a.r(n);var e=a("8a13"),o=a("2299");for(var i in o)["default"].indexOf(i)<0&&function(t){a.d(n,t,(function(){return o[t]}))}(i);a("7c38");var s=a("828b"),r=Object(s["a"])(o["default"],e["b"],e["c"],!1,null,"93a77c8c",null,!1,e["a"],void 0);n["default"]=r.exports},"3ac0":function(t,n,a){var e=a("025c");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=a("967d").default;o("4ab8627a",e,!0,{sourceMap:!1,shadowMode:!1})},"7c38":function(t,n,a){"use strict";var e=a("3ac0"),o=a.n(e);o.a},"8a13":function(t,n,a){"use strict";a.d(n,"b",(function(){return o})),a.d(n,"c",(function(){return i})),a.d(n,"a",(function(){return e}));var e={uIcon:a("7b6b").default},o=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"form-container"},[a("v-uni-view",{staticClass:"input-group"},[a("v-uni-view",{staticClass:"input-wrapper"},[a("u-icon",{attrs:{name:"email",size:"22"}}),a("v-uni-input",{staticClass:"input",attrs:{type:"email",placeholder:"请输入邮箱"},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.onKeyEmailInput.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"input-wrapper"},[a("u-icon",{attrs:{name:"lock",size:"22"}}),a("v-uni-input",{staticClass:"input",attrs:{maxlength:"8",password:"true",placeholder:t.$t("password")},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.onKeyPasswordInput.apply(void 0,arguments)}}})],1)],1),a("v-uni-button",{staticClass:"btn login-btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.gotoLogin.apply(void 0,arguments)}}},[t._v(t._s(t.$t("login")))]),a("v-uni-view",{staticClass:"forgot-password-container"},[a("v-uni-text",{staticClass:"forgot-password",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.gotoForgotPassword()}}},[t._v(" "+t._s(t.$t("forgot_password")))])],1),a("v-uni-button",{staticClass:"btn register-btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.gotoRegister.apply(void 0,arguments)}}},[t._v(t._s(t.$t("register")))])],1)],1)},i=[]},"96cf":function(t,n,a){"use strict";a("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,a("0c26");var e={data:function(){return{email:"",password:""}},methods:{onLoad:function(){},onKeyEmailInput:function(t){this.email=t.target.value.trim()},onKeyPasswordInput:function(t){this.password=t.detail.value.trim()},gotoLogin:function(){if(this.email)if(this.password&&8===this.password.length){var t=this;uni.showLoading({title:"登陆..."}),uni.request({url:"https://nbmjserver.onrender.com/ms/api/loginMSUserInfo",method:"POST",data:{email:t.email,password:t.password,key:"servermustardseed1768725120528"},header:{"Content-Type":"application/json",Accept:"application/json"},success:function(n){uni.hideLoading(),console.log(n),200===n.data.code?(uni.showToast({title:"成功",icon:"success"}),console.log(n.data.data[0].user_name),console.log(n.data.data[0].phone_number),uni.setStorageSync("user_info",{email:t.email,user_name:n.data.data[0].user_name,phone_number:n.data.data[0].phone_number}),uni.redirectTo({url:"AllInternationalSchool"})):uni.showModal({content:n.data.desc,showCancel:!1})},fail:function(t){uni.hideLoading(),console.log(t),uni.showModal({title:"提示",content:t.errMsg,showCancel:!1})}})}else uni.showToast({title:this.$t("password"),icon:"none"});else uni.showToast({title:"请输入邮箱",icon:"none"})},gotoForgotPassword:function(){if(this.email){uni.showLoading({title:"处理中..."}),uni.request({url:"https://nbmjserver.onrender.com/ms/api/forgetMSUserPsw",method:"POST",data:{email:this.email,key:"servermustardseed1768725120528"},header:{"Content-Type":"application/json",Accept:"application/json"},success:function(t){uni.hideLoading(),console.log(t),console.log(t.data.desc),200===t.data.code?uni.showToast({title:t.data.desc,icon:"success"}):uni.showToast({title:t.data.desc,icon:"fail"})},fail:function(t){uni.hideLoading(),console.log(t),uni.showModal({title:"提示",content:t.errMsg,showCancel:!1})}})}else uni.showToast({title:"请输入邮箱",icon:"none"})},gotoRegister:function(){uni.redirectTo({url:"registerSys"})}}};n.default=e}}]);